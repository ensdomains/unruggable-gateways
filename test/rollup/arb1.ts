import { BoLDRollup } from '../../src/arbitrum/BoLDRollup.js';
import { createProviderPair } from '../providers.js';

const config = BoLDRollup.arb1MainnetConfig;
const rollup = new BoLDRollup(createProviderPair(config), config);

console.log(new Date());

console.log({
  Rollup: rollup.Rollup.target,
  defaultWindow: rollup.defaultWindow,
});

const commits = await rollup.fetchRecentCommits(10);
console.log(commits[0]);
const v = commits.map((x) => Number(x.index));
console.log(v.slice(1).map((x, i) => v[i] - x));

// 2025-03-05T08:51:44.949Z
// {
//   Rollup: "0x4DCeB440657f21083db8aDd07665f8ddBe1DCfc0",
//   defaultWindow: 1800,
// }
// {
//   index: 21933402n,
//   prover: EthProver[block=310217542],
//   assertionHash: "0x5c0e433297a3cfa81c1a7ac3a38e3f0a9c5711c96ffcb4ab21da0c898cdbcdc5",
//   parentAssertionHash: "0x0f840fa313677a1d5864e8434cc4563914098443827ad6845aa50bc930a0e651",
//   encodedRollupProof: "0x00000000000000000000000000000000000000000000000000000000000000200f840fa313677a1d5864e8434cc4563914098443827ad6845aa50bc930a0e6510000000000000000000000000000000000000000000000000000000000000120a7dfcc73c50bf07c305dc91ddce3914c4433c5a9ed39fb54c5066d8258b3b7a72ce21975513297e0c26dff7c4f5db2060ab26376c06be04cd241f5b6c3f5a50c00000000000000000000000000000000000000000000000000000000000c991b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000014f5b6bcf819b54668e85d43b76839536a5c1071181697f1aace7edf20cd3e4250000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000002047044fab301471f68c67ffab0cb5bbf4824abc65bd382c12843935ae8c97901f0000000000000000000000000000000000000000000000000000000000000227f90224a076f2f3acf86b6267127253bae25bbaeeb1034b91892bc398faa5f85669c21ca0a01dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d4934794a4b000000000000000000073657175656e636572a03bf0a6fcc2a7c9ff2adaeb796aca492881b79dbcd8397cc76fc68bad048e6e94a0a5f9dee69f76d1b6a297dda66e9ffe3d3d3d6aab53d89e3f21211a64135bf72ba03ba563cd2e68f327ad19ae1d81390bd78e2434d5b25b05bf1e19f0067c8c69c1b901000000000002001410004800000000202000004000814080100000102000000001000000000200002008000000008300000804400109202043000000000c2200a084001805004204084800204c00002400010000020000000004000000400082000000000802020000010000242080280080000100000000000002001800080000000140000180000400010000000000000008000000100000000409040001000002002008200000200000c00010200000000802024020080080000200200008082010a00200000000000004020000000a000000241000000000404400108060040010040200002000444000080000a000120000840000020040800020000000280184127d8b4687040000000000008378a7358467bf8243a02ce21975513297e0c26dff7c4f5db2060ab26376c06be04cd241f5b6c3f5a50ca0000000000002264b00000000014eac1b000000000000002000000000000000008800000000001cc1818401206fd800000000000000000000000000000000000000000000000000",
// }
// [ 299, 297, 299, 300, 299, 297, 299, 298, 300 ]
