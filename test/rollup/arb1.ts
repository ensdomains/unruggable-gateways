import { BoLDRollup } from '../../src/arbitrum/BoLDRollup.js';
import { createProviderPair } from '../providers.js';

const config = BoLDRollup.arb1MainnetConfig;
const rollup = new BoLDRollup(createProviderPair(config), config);

console.log({
  Rollup: rollup.Rollup.target,
  defaultWindow: rollup.defaultWindow,
});

console.log(new Date());
console.log(await rollup.genesis.get());

const commits = await rollup.fetchRecentCommits(10);
console.log(commits[0]);
const v = commits.map((x) => Number(x.index));
console.log(v.slice(1).map((x, i) => v[i] - x));

// 2025-02-23T05:42:00.895Z
// {
//   blockNumber: 21830860n,
//   assertionHash: "0xf631513085d80b11588f37e9e9540ae71e9c288ef17cbb7f10a12cbc92d4c746",
// }
// {
//   index: 21860740n,
//   prover: EthProver[block=306729458],
//   assertionHash: "0xbf286f27d8ae15937bc07a333ee683c8faf7729ab1e988f5d222abd108d1c174",
//   parentAssertionHash: "0x4d7304a80d20d1dcfbdfbf05e27384b9580c8daaabb6427616d46e8c0da48d4b",
//   encodedRollupProof: "0x0000000000000000000000000000000000000000000000000000000000000020bf286f27d8ae15937bc07a333ee683c8faf7729ab1e988f5d222abd108d1c1744d7304a80d20d1dcfbdfbf05e27384b9580c8daaabb6427616d46e8c0da48d4b4567ce6ce1fb430ce266cb62d5484f90711032ac38e3bfd159ce0199d8c55c891cff708a6f0fb3df4ef85d5b467c9bdca0ca3b54f7728b565c993850c30a3fbf00000000000000000000000000000000000000000000000000000000000c7bac00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001a22bdbd2c29cb67245069a0db7fb636e987bc3103e9a264d8480b10ee363d0191adbe17f6c0627d1fc8ac3ea3ecc75fd6a3e9c493a5842fb2d057efb936efb9100000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000226f90223a02dda838edf2a7147aca2336070413138a37dcee005c8d8cbc550bf18b414762ba01dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d4934794a4b000000000000000000073657175656e636572a0ebd8bed12c74b75b6fdb9d7faf49e36556ddda5c3c1ea9aad40c5d130fe77c4ba0d5f2e5b2f0568b5f30b73afd51faa0bc8a18bec802bb467e6fa0490ea46e7178a0f8dae15824d485ffd5c969e40c018be664e9a75eba39779cc102d4637dcd2ebab9010000000000000002000000000000000000000000000800000000000900000008100000000000000000000010000000000020004000010128020000000000000008000000010000080800420008000000000000000000000000004002200000000000000000020100400000000400000801000000000000000200004010000800000000001000000000000000000000000000000011800000000000000005000000000000100000000000020040002004000000000000000002000000000008000000200002000000000000000000400000000000000200200000000000000020040020200000000000000c008000000000000000000000000000014800100000000184124851f287040000000000008307f19a8467b21f89a01cff708a6f0fb3df4ef85d5b467c9bdca0ca3b54f7728b565c993850c30a3fbfa000000000000223b100000000014d9053000000000000002000000000000000008800000000001c9843839896800000000000000000000000000000000000000000000000000000",
// }
// [ 297, 299, 298, 297, 298, 297, 300, 299, 293 ]
